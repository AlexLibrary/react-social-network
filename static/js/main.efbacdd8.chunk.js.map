{"version":3,"sources":["reducers/reducer_dialogs.ts","utils/objectHelpers.js","reducers/reducer_users.ts","App.module.scss","assets/preloaderAnimation.svg","components/modules/Preloader/style.module.scss","components/modules/Messenger/style.module.scss","reducers/reducer_app.ts","reducers/reducer_auth.ts","serviceWorker.js","reducers/reducer_sidebar.ts","redux_store.ts","components/modules/Messenger/Messenger.js","components/Header/Navigation/Navigation.js","components/Header/Login/index.js","components/Header/Login/Container.js","components/Header/Header.js","hoc/withSuspense.js","components/Body/Body.js","App.js","index.js","components/Body/Body.module.scss","components/Header/Header.module.scss","components/modules/Preloader/index.js","components/Header/Login/style.module.scss","components/Header/Navigation/Navigation.module.scss","api/index.js","reducers/reducer_profile.ts"],"names":["initialState","friends","id","name","messages","message","sendMessageAC","newMessage","type","dialogsReducer","state","action","length","updateObjectInArrays","items","itemId","objPropName","newObjProps","map","obj","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","toggleIsFetching","toggleFollowingInProgress","isFollowing","requestUsers","page","dispatch","a","usersAPI","getUsers","data","console","log","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","unfollow","usersReducer","followed","filter","module","exports","initialized","globalError","setGlobalError","errorMessage","initializeApp","promise","getAuthUserData","Promise","all","then","appReducer","email","login","isAuth","captchaUrl","setAuthUserData","payload","authAPI","me","password","rememberMe","undefined","captcha","getCaptchaUrl","stopSubmit","_error","securityAPI","url","logout","authReducer","WILLERROR","Boolean","window","location","hostname","match","sidebarReducer","rootReducer","combineReducers","profile","profileReducer","dialogPage","sidebar","usersPage","authPart","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","ThunkMiddleware","__store__","MessengerContainer","connect","props","setTimeout","className","styles","links","NavLinks","link","i","key","activeClassName","a_active","to","toLowerCase","Menu","menu","Login","sign","src","photos","small","href","onClick","LogoutOutlined","LoginContainer","this","React","Component","Header","inner","header","logo","Navigation","withSuspense","Suspense","fallback","Preloader","Dialogs","lazy","Profile","Users","Body","body","exact","path","render","main","pageTitle","status","title","subTitle","extra","App","showErrorMessage","reason","error","response","addEventListener","removeEventListener","AppContainer","MainApp","ReactDOM","document","querySelector","navigator","serviceWorker","ready","registration","unregister","catch","preloader","preloaderAnimation","alt","instance","axios","create","baseURL","withCredentials","headers","get","getProfile","warn","profileAPI","delete","post","getStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likes","addPostActionCreator","newPost","setStatus","getUserProfile","file","getState","reject","postId"],"mappings":"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","file":"static/js/main.efbacdd8.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE'\n\ntype FriendType = {\n  id: number,\n  name: string\n}\ntype MessageType = {\n  id: number,\n  message: string\n}\n\nconst initialState = {\n  friends: [\n    { id: 0, name: \"Dimych\" },\n    { id: 1, name: \"Sveta\" },\n    { id: 2, name: \"Andrey\" },\n    { id: 3, name: \"Alexandra\" },\n    { id: 4, name: \"Viktor\" },\n    { id: 5, name: \"Valera\" }\n  ] as Array<FriendType>,\n  messages: [\n    { id: 0, message: \"hi\" },\n    { id: 1, message: \"how are you\" },\n    { id: 2, message: \"yo\" },\n    { id: 3, message: \"yo\" },\n    { id: 4, message: \"yo\" },\n    { id: 5, message: \"how are you\" },\n    { id: 6, message: \"yo\" }\n  ] as Array<MessageType>\n}\nexport type InitialState = typeof initialState\n\nconst dialogsReducer = (state = initialState, action: any): InitialState => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return {\n        ...state,\n        messages: [\n          ...state.messages,\n          { id: state.messages.length, message: action.newMessage }\n        ]\n      }\n    default:\n      return state;\n  }\n}\n\ntype SendMessageACType = {\n  type: typeof SEND_MESSAGE\n  newMessage: string\n}\nexport const sendMessageAC = (newMessage: string): SendMessageACType => ({\n  type: SEND_MESSAGE, newMessage\n})\n\nexport default dialogsReducer\n","export const updateObjectInArrays = (items, itemId, objPropName, newObjProps) => {\n  return items.map(obj =>\n    obj[objPropName] === itemId ? { ...obj, ...newObjProps } : obj\n  )\n}\n\n\n/*\nusers: state.users.map(obj =>\n  obj.id === action.id ? { ...obj, followed: true } : obj\n)\n*/\n","import { usersAPI } from '../api'\nimport { updateObjectInArrays } from '../utils/objectHelpers'\nimport { UserType } from '../types'\n/* ActionConstant */\nconst SET_USERS = 'SET_USERS'\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS'\n/* initState for Reducer */\n\nconst initialState = {\n  users: [] as Array<UserType>,\n  pageSize: 20 as number,\n  totalUsersCount: 0 as number,\n  currentPage: 1 as number,\n  isFetching: false as boolean,\n  followingInProgress: [] as Array<number> // [...usersIds]\n}\n\nexport type InitialStateType = typeof initialState\n\n/* Reducer */\nconst usersReducer = (state = initialState, action: any): InitialStateType => {\n  switch (action.type) {\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArrays(state.users, action.id, 'id', { followed: true })\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArrays(state.users, action.id, 'id', { followed: false })\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage\n      };\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.count\n      };\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFollowing\n          ? [...state.followingInProgress, action.userId] // state.followingInProgress.push(action.userId)\n          : state.followingInProgress.filter(id => id !== action.userId)\n      };\n    default:\n      return state;\n  }\n}\n/* ActionCreators */\ntype SetUsersType = {\n  type: typeof SET_USERS\n  users: Array<UserType>\n}\nexport const setUsers = (users: Array<UserType>): SetUsersType => ({\n  type: SET_USERS, users\n})\ntype FollowSuccessType = {\n  type: typeof FOLLOW\n  id: number\n}\nexport const followSuccess = (userId: number): FollowSuccessType => ({\n  type: FOLLOW, id: userId\n})\ntype UnfollowSuccessType = {\n  type: typeof UNFOLLOW\n  id: number\n}\nexport const unfollowSuccess = (userId: number): UnfollowSuccessType => ({\n  type: UNFOLLOW, id: userId\n})\ntype SetCurrentPageType = {\n  type: typeof SET_CURRENT_PAGE\n  currentPage: number\n}\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({\n  type: SET_CURRENT_PAGE, currentPage\n})\ntype SetTotalUsersCountType = {\n  type: typeof SET_TOTAL_USERS_COUNT\n  count: number\n}\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType => ({\n  type: SET_TOTAL_USERS_COUNT, count: totalUsersCount\n})\ntype ToggleIsFetchingType = {\n  type: typeof TOGGLE_IS_FETCHING\n  isFetching: boolean\n}\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({\n  type: TOGGLE_IS_FETCHING, isFetching\n})\ntype ToggleFollowingInProgressType = {\n  type: typeof TOGGLE_FOLLOWING_IN_PROGRESS\n  isFollowing: boolean\n  userId: number\n}\nexport const toggleFollowingInProgress = (isFollowing: boolean, userId: number): ToggleFollowingInProgressType => ({\n  type: TOGGLE_FOLLOWING_IN_PROGRESS, isFollowing, userId\n})\n/* ThunkCreators */\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: any) => {\n  dispatch(toggleIsFetching(true))\n  dispatch(setCurrentPage(page))\n  const { data } = await usersAPI.getUsers(page, pageSize)\n  console.log('---data(usersAPI.getUsers)', data)\n  dispatch(toggleIsFetching(false))\n  dispatch(setUsers(data.items))\n  dispatch(setTotalUsersCount(data.totalCount))\n}\n\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\n  dispatch(toggleFollowingInProgress(true, userId));\n  const { data } = await apiMethod(userId)\n  console.log(`---data(${apiMethod.name})`, data)\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId))\n  }\n  dispatch(toggleFollowingInProgress(false, userId));\n}\n\nexport const follow = (userId: number) => async (dispatch: any) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess)\n}\nexport const unfollow = (userId: number) => async (dispatch: any) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess)\n}\n\nexport default usersReducer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1nvSn\"};","module.exports = __webpack_public_path__ + \"static/media/preloaderAnimation.f4e1fcb2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"style_preloader__2MSck\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"style_message__3AGWa\"};","import { getAuthUserData } from \"./reducer_auth\";\n\nconst INITIALIZED_SUCCESS = 'reducer_app/INITIALIZED_SUCCESS'\nconst SET_GLOBAL_ERROR = 'reducer_app/SET_GLOBAL_ERROR'\n\nconst initialState = {\n  initialized: false as boolean,\n  globalError: null as string | null\n}\nexport type InitialStateType = typeof initialState\n\nconst appReducer = (state = initialState, action: any): InitialStateType => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      };\n    case SET_GLOBAL_ERROR:\n      return {\n        ...state,\n        globalError: action.errorMessage\n      };\n    default:\n      return state;\n  }\n}\n\ntype InitializedSuccessType = {\n  type: typeof INITIALIZED_SUCCESS\n}\nexport const initializedSuccess = (): InitializedSuccessType => ({ type: INITIALIZED_SUCCESS })\ntype SetGlobalErrorType = {\n  type: typeof SET_GLOBAL_ERROR\n  errorMessage: string\n}\nexport const setGlobalError = (errorMessage: any): SetGlobalErrorType => ({ type: SET_GLOBAL_ERROR, errorMessage })\n\nexport const initializeApp = () => (dispatch: any) => {\n  let promise = dispatch(getAuthUserData())\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess())\n  })\n}\n\nexport default appReducer\n","import { authAPI, securityAPI } from \"../api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_AUTH_USER_DATA = 'authPart/SET_AUTH_USER_DATA'\nconst SET_CAPTCHA_URL = 'authPart/SET_CAPTCHA_URL'\n\nconst initialState = {\n  userId: null as number | null,\n  email: null as string | null,\n  login: null as string | null,\n  isAuth: false as boolean,\n  captchaUrl: null as string | null\n}\nexport type InitialStateType = typeof initialState\n\nconst authReducer = (state = initialState, action: any): InitialStateType => {\n  switch (action.type) {\n    case SET_AUTH_USER_DATA:\n    case SET_CAPTCHA_URL:\n      return {\n        WILLERROR: 'qwe',\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n}\ntype SetAuthUserDataActionType = {\n  userId: number | null\n  email: string | null\n  login: string | null\n  isAuth: boolean | null\n}\ntype SetAuthUserDataType = {\n  type: typeof SET_AUTH_USER_DATA\n  payload: SetAuthUserDataActionType\n}\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataType => ({\n  type: SET_AUTH_USER_DATA,\n  payload: { userId, email, login, isAuth }\n})\ntype SetCaptchaUrlType = {\n  type: typeof SET_CAPTCHA_URL\n  payload: {\n    captchaUrl: string\n  }\n}\nexport const setCaptchaUrl = (captchaUrl: string): SetCaptchaUrlType => ({\n  type: SET_CAPTCHA_URL,\n  payload: { captchaUrl }\n})\n\nexport const getAuthUserData = () => async (dispatch: any) => {\n  let { data } = await authAPI.me()\n  console.log('---data(authAPI.me)', data)\n  if (data.resultCode === 0) {\n    const { id, email, login } = data.data\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n}\nexport const login = ({ email, password, rememberMe = undefined, captcha = undefined }: any) => async (dispatch: any) => {\n  let { data } = await authAPI.login(email, password, rememberMe, captcha)\n  console.log('---data(authAPI.login)', data)\n  if (data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if (data.resultCode === 10) {\n      dispatch(getCaptchaUrl())\n    }\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error'\n    dispatch(stopSubmit('login', { _error: message }))\n  }\n}\nexport const getCaptchaUrl = () => async (dispatch: any) => {\n  let { data } = await securityAPI.getCaptchaUrl()\n  console.log('---data(securityAPI.getCaptchaUrl)', data)\n  dispatch(setCaptchaUrl(data.url))\n}\n\nexport const logout = () => async (dispatch: any) => {\n  let { data } = await authAPI.logout()\n  console.log('---data(authAPI.logout)', data)\n  if (data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n}\n\nexport default authReducer\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {}\nexport type InitialStateType = typeof initialState\nconst sidebarReducer = (state = initialState, action: any): InitialStateType => {\n  // return JSON.parse(JSON.stringify(state));;\n  return state;\n}\n\nexport default sidebarReducer\n","import { combineReducers, createStore, applyMiddleware, compose } from 'redux'\nimport ThunkMiddleware from 'redux-thunk'\nimport profileReducer from \"./reducers/reducer_profile\"\nimport dialogsReducer from \"./reducers/reducer_dialogs\"\nimport sidebarReducer from \"./reducers/reducer_sidebar\"\nimport usersReducer from './reducers/reducer_users'\nimport authReducer from './reducers/reducer_auth'\nimport appReducer from './reducers/reducer_app'\nimport { reducer as formReducer, } from 'redux-form'\n\nconst rootReducer = combineReducers({\n  profile: profileReducer,\n  dialogPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  authPart: authReducer,\n  form: formReducer,\n  app: appReducer\n})\n\ntype RootReducerType = typeof rootReducer\nexport type AppStateType = ReturnType<RootReducerType>\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(rootReducer, /* preloadedState, */ composeEnhancers(\n  applyMiddleware(ThunkMiddleware)\n))\n// const store = createStore(reducers, applyMiddleware(ThunkMiddleware))\nexport default store\n\n/* Window */\n\n// declare global {\n//   interface Window { store: any }\n// }\n\n// @ts-ignore\nwindow.__store__ = store\n","import React from 'react'\nimport { setGlobalError } from \"../../../reducers/reducer_app\";\nimport styles from './style.module.scss'\nimport { connect } from 'react-redux'\n\nconst Messenger = (props) => {\n  if (props.globalError) {\n    setTimeout(() => {\n      props.setGlobalError(null)\n    }, 5000)\n    return (\n      <div className={`${styles.message}`}>\n        {props.globalError}\n      </div>\n    )\n  } else {\n    return <div></div>\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  globalError: state.app.globalError\n})\n\nconst MessengerContainer = connect(mapStateToProps, { setGlobalError })(Messenger);\n\nexport default MessengerContainer\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\"\nimport styles from './Navigation.module.scss'\n\nconst links = [\n  'Profile',\n  'Dialogs',\n  'Users',\n  'News',\n  'Music',\n  'Settings'\n]\n\nconst NavLinks = () => (\n  links.map((link, i) => {\n    return <NavLink key={i} activeClassName={styles.a_active} to={`/${link.toLowerCase()}`}><h3>{link}</h3></NavLink>\n  })\n)\n\nconst Menu = () => {\n  return (\n    <nav className={styles.menu}>\n      <NavLinks />\n    </nav>\n  )\n}\n\nexport default Menu;\n\n","import React from \"react\";\n// import './style.scss'\nimport styles from './style.module.scss'\nimport { NavLink, Link } from \"react-router-dom\";\nimport { Avatar } from \"antd\";\nimport { LogoutOutlined } from \"@ant-design/icons\";\n\nconst Login = (props) => {\n  // if (!props.isAuth) return <Redirect to='/login' />\n  if (props.isAuth && props.profile) {\n    return (\n      <div className={styles.sign}>\n        <div className={styles.logout}>\n          <Link to='/profile'>\n            <Avatar src={props.profile.photos.small} />\n            {props.login}\n          </Link>\n          <a href='##' onClick={props.logout}>\n            <LogoutOutlined />\n          </a>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className={styles.sign}>\n        <NavLink to={'/login'}>Login</NavLink>\n      </div>\n    )\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport Login from '.';\nimport { connect } from 'react-redux'\nimport { logout } from '../../../reducers/reducer_auth'\n\nclass LoginContainer extends React.Component {\n  render() {\n    return (<Login {...this.props} />)\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.authPart.isAuth,\n  login: state.authPart.login,\n  profile: state.profile.profile\n})\n\nexport default connect(mapStateToProps, {\n  logout\n})(LoginContainer);\n","import React from \"react\";\nimport styles from './Header.module.scss'\nimport Navigation from './Navigation/Navigation'\nimport Login from './Login/Container'\n\nconst Header = () => {\n  return (\n    <div className={styles.inner}>\n      <div className=\"container\">\n        <div className={styles.header}>\n          <div></div> {/* get the app */}\n          <div className={styles.logo}><h1>React.js</h1></div>\n          <div className={styles.login}>\n            <Login />\n          </div>\n        </div>\n        <Navigation />\n      </div>\n    </div>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\nimport Preloader from \"../components/modules/Preloader\";\n\n\nexport const withSuspense = (Component) => (props) =>\n  <React.Suspense fallback={<Preloader />}>\n    <Component />\n  </React.Suspense>\n\n\n// export const withSuspense = (Component) => {\n\n//   class withSuspense extends React.Component {\n//     render() {\n//       return (\n//         <React.Suspense fallback={() => <Preloader />}>\n//           <Component />\n//         </React.Suspense>\n//       )\n//     }\n//   }\n\n//   return (withSuspense)\n\n// }\n","import React from \"react\";\nimport styles from './Body.module.scss'\nimport { Route, Switch, Redirect, Link } from \"react-router-dom\";\nimport { withSuspense } from \"../../hoc/withSuspense\";\nimport 'antd/es/empty/style/index.css';\nimport { Result, Button } from 'antd';\nimport 'antd/es/result/style/index.css';\nimport 'antd/es/button/style/index.css';\n// import Dialogs from \"./Dialogs/Container\";\n// import Profile from \"./Profile/Container\";\n// import Users from \"./Users/Container\";\n// import Login from \"./Login/Container\";\n\nconst Dialogs = React.lazy(() => import(\"./Dialogs/Container\"))\nconst Profile = React.lazy(() => import(\"./Profile/Container\"))\nconst Users = React.lazy(() => import(\"./Users/Container\"))\nconst Login = React.lazy(() => import(\"./Login/Login\"))\n\nconst Body = () => {\n  return (\n    <div className={styles.body}>\n      <div className=\"container\">\n        <Switch>\n          <Route exact path='/' render={() => <Redirect to='/profile' />} />\n          <Route path='/dialogs' render={withSuspense(() => <div className={styles.main}><Dialogs /></div>)} />\n          <Route path='/profile/:userId?' render={withSuspense(Profile)} />\n          <Route path='/users' render={withSuspense(() => <div className={styles.main}><Users pageTitle={'Пользователи'} /></div>)} />\n          <Route path='/login' render={withSuspense(() => <div className={styles.main}><Login /></div>)} />\n          <Route path='*' render={() => <div className={styles.main}>\n            <Result\n              status=\"404\"\n              title=\"404\"\n              subTitle=\"Sorry, the page you visited does not exist.\"\n              extra={<Button type=\"primary\"><Link to={'/'}>Back Home</Link></Button>}\n            />\n          </div>} />\n        </Switch>\n      </div>\n    </div>\n  )\n}\n\nexport default Body;\n","import React from \"react\";\nimport styles from './App.module.scss'\nimport { initializeApp, setGlobalError } from \"./reducers/reducer_app\";\nimport { connect, Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./redux_store\";\nimport Preloader from \"./components/modules/Preloader\";\nimport Messenger from \"./components/modules/Messenger/Messenger\";\nimport SideBar from \"./components/Header/Header\";\nimport Body from \"./components/Body/Body\";\n\nclass App extends React.Component {\n\n  showErrorMessage = ({ reason }) => {\n    console.error(reason);\n    const { response: { data: { message }, status } } = reason\n    this.props.setGlobalError(`Error: ${status} (${message})`)\n  }\n  componentDidMount() {\n    this.props.initializeApp()\n    window.addEventListener('unhandledrejection', this.showErrorMessage)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.showErrorMessage)\n  }\n\n  render() {\n\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className={styles.App}>\n        <SideBar />\n        <Body />\n        <Messenger />\n      </div>\n    )\n\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = connect(mapStateToProps, { initializeApp, setGlobalError })(App);\n\n/* <HashRouter> / <BrowserRouter basename={process.env.PUBLIC_URL}> (for GitHub pages) */\nconst MainApp = () => (\n  <HashRouter >\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n)\n\nexport default MainApp;\n","import * as serviceWorker from './serviceWorker';\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport 'antd/dist/antd.css';\nimport './index.scss';\nimport App from './App'\n\nReactDOM.render(<App />, document.querySelector('.root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Body_body__RXZvK\",\"main\":\"Body_main__rwHYk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inner\":\"Header_inner__19rxo\",\"header\":\"Header_header__2I9RI\"};","import React from 'react'\nimport preloaderAnimation from '../../../assets/preloaderAnimation.svg'\nimport styles from './style.module.scss'\n\nconst Preloader = () => {\n  return (\n    <div className={styles.preloader}>\n      <img src={preloaderAnimation} alt=\"loading...\" />\n    </div>\n  )\n}\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign\":\"style_sign__2LoVy\",\"logout\":\"style_logout__1Zstx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navigation_menu__1Jg77\",\"a_active\":\"Navigation_a_active__2be8i\"};","import axios from 'axios'\nconst PATH = 'https://social-network.samuraijs.com/api/1.0/'\n\nconst instance = axios.create({\n  baseURL: PATH,\n  withCredentials: true,\n  headers: {\n    'API-KEY': '981ab4ac-b16c-4610-9fb4-e41305b3c995'\n  }\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`);\n  },\n  getProfile(userId) {\n    console.warn('Obsolete method. Please profileAPI object!')\n    return profileAPI.getProfile(userId);\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`);\n  },\n  follow(userId) {\n    return instance.post(`follow/${userId}`);\n  },\n  // follow(userId) {\n  //   return instance.post(`follow/${userId}`)\n  //     .then(response => response.data)\n  // }\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/${userId}`);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status });\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append('image', photoFile)\n    return instance.put(`profile/photo`, formData, {\n      'Content-Type': 'multipart/form-data'\n    });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile);\n  }\n}\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`);\n  },\n  login(email, password, rememberMe, captcha) {\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n  },\n  logout() {\n    return instance.delete(`auth/login`);\n  }\n}\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`);\n  }\n}\n","import { usersAPI, profileAPI } from '../api'\nimport { stopSubmit } from 'redux-form'\nimport { setGlobalError } from './reducer_app'\nimport { PostType, ProfileType, PhotosType } from '../types'\n/* ActionConstant */\nconst ADD_POST = 'reducer_profile/ADD_POST'\nconst SET_USER_PROFILE = 'reducer_profile/SET_USER_PROFILE'\nconst SET_STATUS = 'reducer_profile/SET_STATUS'\nconst DELETE_POST = 'reducer_profile/DELETE_POST'\nconst SAVE_PHOTO_SUCCESS = 'reducer_profile/SAVE_PHOTO_SUCCESS'\n/* initState for Reducer */\n\nconst initialState = {\n  posts: [\n    { id: 0, message: 'it\\'s my first post', likes: 511 },\n    { id: 1, message: 'how are you', likes: 200 },\n    { id: 2, message: 'hi, how are you', likes: 101 },\n  ] as Array<PostType>,\n  profile: null as ProfileType | null,\n  status: null as string | null\n}\n\nexport type InitialStateType = typeof initialState\n\n/* Reducer */\nconst profileReducer = (state = initialState, action: any): InitialStateType => {\n  switch (action.type) {\n    case ADD_POST:\n      const newPost = {\n        id: state.posts.length,\n        message: action.newPost,\n        likes: 0\n      }\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          newPost\n        ]\n      }\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      }\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(post => post.id !== action.postId)\n      }\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos } as ProfileType\n      }\n    default:\n      return state;\n  }\n}\n/* ActionCreator */\ntype AddPostActionCreatorType = {\n  type: typeof ADD_POST\n  newPost: string\n}\nexport const addPostActionCreator = (newPost: string): AddPostActionCreatorType => ({ type: ADD_POST, newPost })\ntype SetUserProfileActionType = {\n  type: typeof SET_USER_PROFILE\n  profile: ProfileType\n}\nexport const setUserProfileAction = (profile: ProfileType): SetUserProfileActionType => ({ type: SET_USER_PROFILE, profile })\ntype SetStatusType = {\n  type: typeof SET_STATUS\n  status: string\n}\nexport const setStatus = (status: string): SetStatusType => ({ type: SET_STATUS, status })\ntype DeletePostType = {\n  type: typeof DELETE_POST\n  postId: number\n}\nexport const deletePost = (postId: number): DeletePostType => ({ type: DELETE_POST, postId })\ntype SavePhotoSuccessType = {\n  type: typeof SAVE_PHOTO_SUCCESS\n  photos: PhotosType\n}\nexport const savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessType => ({ type: SAVE_PHOTO_SUCCESS, photos })\n\n/* ThunkCreator */\nexport const getUserProfile = (userId: number) => async (dispatch: any) => {\n  const { data } = await usersAPI.getProfile(userId)\n  console.log('---data(usersAPI.getProfile)', data)\n  dispatch(setUserProfileAction(data))\n}\nexport const getStatus = (userId: number) => async (dispatch: any) => {\n  const { data } = await profileAPI.getStatus(userId)\n  console.log('---data(profileAPI.getStatus)', data)\n  dispatch(setStatus(data))\n}\nexport const updateStatus = (status: string) => async (dispatch: any) => {\n\n  const { data } = await profileAPI.updateStatus(status)\n  console.log('---data(profileAPI.updateStatus)', data)\n  if (data.resultCode === 0) {\n    dispatch(setStatus(status))\n  } else {\n    dispatch(setGlobalError(data.messages[0]))\n    setTimeout(() => { dispatch(setGlobalError(null)) }, 4000);\n  }\n\n}\nexport const savePhoto = (file: any) => async (dispatch: any) => {\n  const { data } = await profileAPI.savePhoto(file)\n  console.log('---data(profileAPI.savePhoto)', data)\n  if (data.resultCode === 0) {\n    dispatch(savePhotoSuccess(data.data.photos))\n  }\n}\nexport const saveProfile = (profile: ProfileType) => async (dispatch: any, getState: any) => {\n  const userId = getState().authPart.userId;\n  const { data } = await profileAPI.saveProfile(profile)\n  console.log('---data(profileAPI.saveProfile)', data)\n  if (data.resultCode === 0) {\n    dispatch(getUserProfile(userId))\n  } else {\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error'\n    dispatch(stopSubmit('editProfile', { _error: message }))\n    return Promise.reject(message);\n  }\n}\n\n\nexport default profileReducer\n"],"sourceRoot":""}