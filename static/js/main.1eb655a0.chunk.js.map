{"version":3,"sources":["reducers/reducer_auth.js","components/Header/index.js","components/Header/Container.js","components/Page/Sidebar/Navigation/index.js","components/Page/Sidebar/index.js","hoc/withSuspense.js","components/Page/Main/index.js","components/Page/index.js","components/Footer/Anotation/index.js","components/Footer/index.js","reducers/reducer_app.js","reducers/reducer_sidebar.js","redux_store.js","App.js","serviceWorker.js","index.js","components/modules/Preloader/index.js","components/Header/style.module.scss","components/Page/Sidebar/Navigation/style.module.scss","components/Footer/Anotation/style.module.scss","reducers/reducer_profile.js","api/index.js","reducers/reducer_dialogs.js","utils/objectHelpers.js","reducers/reducer_users.js","assets/img/bg-header.jpg","components/Page/Sidebar/style.module.scss","components/Page/Main/style.module.scss","assets/preloaderAnimation.svg","components/modules/Preloader/style.module.scss","components/Page/style.module.scss","components/Footer/style.module.scss"],"names":["initialState","userId","email","login","isAuth","captchaUrl","setAuthUserData","type","payload","getAuthUserData","dispatch","a","authAPI","me","data","console","log","resultCode","id","password","rememberMe","undefined","captcha","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","logout","authReducer","state","action","Header","props","className","styles","header","src","bg_header","alt","header_login","onClick","to","HeaderContainer","this","React","Component","connect","authPart","links","Menu","NavLinks","map","link","i","key","activeClassName","a_active","toLowerCase","menu","Page_Sidebar","sidebar","Navigation","withSuspense","Suspense","fallback","Preloader","Dialogs","lazy","Profile","Users","Login","PageItems","main","path","render","Page","page","Sidebar","Main","simbolGit","svg_git","viewBox","d","xlinkHref","FooterAnotation","anotation","href","target","Footer","footer","Anotation","initialized","appReducer","sidebarReducer","reducers","combineReducers","profile","profileReducer","dialogPage","dialogsReducer","usersPage","usersReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","ThunkMiddleware","__store__","App","initializeApp","AppContainer","promise","Promise","all","then","SamuraiJSApp","Boolean","location","hostname","match","ReactDOM","document","querySelector","navigator","serviceWorker","ready","registration","unregister","catch","error","preloader","preloaderAnimation","module","exports","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likes","status","addPostActionCreator","newPost","setStatus","getUserProfile","usersAPI","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveProfile","getState","reject","filter","post","postId","instance","axios","create","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","warn","unfollow","delete","follow","put","photoFile","formData","FormData","append","friends","name","input","sendMessageActionCreator","newMessage","updateObjectInArrays","items","itemId","objPropName","newObjProps","obj","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","isFollowing","requestUsers","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","followed"],"mappings":"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","file":"static/js/main.1eb655a0.chunk.js","sourcesContent":["import { authAPI, securityAPI } from \"../api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_AUTH_USER_DATA = 'authPart/SET_AUTH_USER_DATA'\nconst SET_CAPTCHA_URL = 'authPart/SET_CAPTCHA_URL'\n\nconst initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null\n}\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTH_USER_DATA:\n    case SET_CAPTCHA_URL:\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_AUTH_USER_DATA, payload: { userId, email, login, isAuth } })\nexport const setCaptchaUrl = (captchaUrl) => ({ type: SET_CAPTCHA_URL, payload: { captchaUrl } })\n\nexport const getAuthUserData = () => async (dispatch) => {\n  let { data } = await authAPI.me()\n  console.log('---data(authAPI.me)', data)\n  if (data.resultCode === 0) {\n    const { id, email, login } = data.data\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n}\nexport const login = ({ email, password, rememberMe = undefined, captcha = undefined }) => async (dispatch) => {\n  let { data } = await authAPI.login(email, password, rememberMe, captcha)\n  console.log('---data(authAPI.login)', data)\n  if (data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if (data.resultCode === 10) {\n      dispatch(getCaptchaUrl())\n    }\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error'\n    dispatch(stopSubmit('login', { _error: message }))\n  }\n}\nexport const getCaptchaUrl = () => async (dispatch) => {\n  let { data } = await securityAPI.getCaptchaUrl()\n  console.log('---data(securityAPI.getCaptchaUrl)', data)\n  dispatch(setCaptchaUrl(data.url))\n}\n\nexport const logout = () => async (dispatch) => {\n  let { data } = await authAPI.logout()\n  console.log('---data(authAPI.logout)', data)\n  if (data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n}\n\nexport default authReducer\n","import React from \"react\";\n// import './style.scss'\nimport styles from './style.module.scss'\nimport { NavLink } from \"react-router-dom\";\n// const S = 'header' {`${S}`}\nimport bg_header from '../../assets/img/bg-header.jpg'\n\nconst Header = (props) => {\n  // if (!props.isAuth) return <Redirect to='/login' />\n  return (\n    <div className={styles.header}>\n      <img src={bg_header} alt=\"\" />\n      <div className=\"container\">\n        <div className={styles.header_login}>\n          {props.isAuth\n            ? <div>{props.login}<br /><button onClick={props.logout}>LOGOUT</button></div>\n            : <NavLink to={'/login'}>Login</NavLink>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\nimport Header from '.';\nimport { connect } from 'react-redux'\nimport { logout } from '../../reducers/reducer_auth'\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return (<Header {...this.props} />)\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.authPart.isAuth,\n  login: state.authPart.login\n})\n\nexport default connect(mapStateToProps, {\n  logout\n})(HeaderContainer);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\"\nimport styles from './style.module.scss'\n\nconst links = [\n  'Profile',\n  'Dialogs',\n  'Users',\n  'News',\n  'Music',\n  'Settings'\n]\n\nconst Menu = () => {\n  const NavLinks = () => (\n    links.map((link, i) => {\n      return <NavLink key={i} activeClassName={styles.a_active} to={`/${link.toLowerCase()}`}>{link}</NavLink>\n    })\n  )\n  return (\n    <nav className={styles.menu}>\n      <NavLinks />\n    </nav>\n  )\n}\n\nexport default Menu;\n\n","import React from \"react\";\nimport styles from './style.module.scss'\nimport Navigation from \"./Navigation\";\n\nconst Page_Sidebar = () => {\n  return (\n    <div className={styles.sidebar}>\n      <Navigation />\n    </div>\n  )\n}\n\nexport default Page_Sidebar;\n","import React from \"react\";\nimport Preloader from \"../components/modules/Preloader\";\n\n\nexport const withSuspense = (Component) => (props) =>\n  <React.Suspense fallback={<Preloader />}>\n    <Component />\n  </React.Suspense>\n\n\n// export const withSuspense = (Component) => {\n\n//   class withSuspense extends React.Component {\n//     render() {\n//       return (\n//         <React.Suspense fallback={() => <Preloader />}>\n//           <Component />\n//         </React.Suspense>\n//       )\n//     }\n//   }\n\n//   return (withSuspense)\n\n// }\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n// import Dialogs from \"./Dialogs/Container\";\n// import Profile from \"./Profile/Container\";\n// import Users from \"./Users/Container\";\n// import Login from \"./Login/Container\";\nimport styles from './style.module.scss'\nimport { withSuspense } from \"../../../hoc/withSuspense\";\n\nconst Dialogs = React.lazy(() => import(\"./Dialogs/Container\"))\nconst Profile = React.lazy(() => import(\"./Profile/Container\"))\nconst Users = React.lazy(() => import(\"./Users/Container\"))\nconst Login = React.lazy(() => import(\"./Login/Container\"))\n\nconst PageItems = () => {\n  return (\n    <div className={styles.main}>\n      <Route path='/dialogs' render={withSuspense(Dialogs)} />\n      <Route path='/profile/:userId?' render={withSuspense(Profile)} />\n      <Route path='/users' render={withSuspense(Users)} />\n      <Route path='/login' render={withSuspense(Login)} />\n    </div>\n  )\n}\n\nexport default PageItems;\n","import Sidebar from \"./Sidebar\";\nimport Main from \"./Main\";\nimport React from \"react\";\nimport styles from './style.module.scss'\n\nconst Page = () => {\n  return (\n    <div className={styles.page}>\n      <Sidebar />\n      <Main />\n    </div>\n  )\n}\n\nexport default Page;\n","import React from \"react\";\nimport styles from './style.module.scss'\n\nconst simbolGit = <svg className={styles.svg_git}>\n  <symbol id=\"git\" viewBox=\"0 0 31.457 31.457\">\n    <g>\n      <path d=\"M17.199,0c-0.664,0-1.233,0.252-1.705,0.757C15.024,1.261,14.79,1.87,14.79,2.581c0,0.688,0.236,1.285,0.705,1.79\n                c0.471,0.504,1.039,0.757,1.705,0.757c0.642,0,1.199-0.252,1.67-0.757c0.47-0.505,0.705-1.102,0.705-1.79\n                c0-0.711-0.235-1.319-0.705-1.824C18.398,0.252,17.841,0,17.199,0z\"/>\n      <path d=\"M27.322,19.79c-1.01,0-1.508-0.769-1.508-2.306v-6.07h3.176V7.619H25.81c-0.012-0.5-0.04-1.651-0.06-2.191h-3.709v2.191\n                h-2.049v3.794h2.049v5.897c0,1.928,0.242,3.34,0.727,4.233c0.643,1.194,1.77,1.79,3.443,1.79c1.193,0,2.244-0.229,3.031-0.688\n                v-3.441C28.615,19.596,28.033,19.79,27.322,19.79z\"/>\n      <path d=\"M15.005,7.674c-1.348,0.526-2.603,0.793-3.681,0.793c-0.962-0.551-1.96-0.826-3.084-0.826\n                c-1.561,0-2.901,0.516-4.026,1.548c-1.17,1.102-1.757,2.479-1.757,4.13c0,1.102,0.318,2.133,0.963,3.097\n                c0.573,0.895,1.173,1.469,1.958,1.721v0.069c-0.785,0.321-1.134,1.124-1.134,2.41c0,0.987,0.349,1.721,1.134,2.202v0.07\n                c-2.17,0.709-3.163,2.029-3.163,3.957c0,1.676,0.729,2.902,2.153,3.682c1.123,0.619,2.567,0.93,4.311,0.93\n                c4.244,0,6.371-1.777,6.371-5.335c0-2.226-1.638-3.591-4.919-4.097c-0.759-0.114-1.329-0.389-1.72-0.825\n                c-0.299-0.3-0.445-0.597-0.445-0.896c0-0.85,0.458-1.343,1.377-1.479c1.398-0.207,2.539-0.854,3.425-1.944\n                c0.882-1.09,1.324-2.37,1.324-3.838c0-0.458-0.139-0.952-0.321-1.479c0.541-0.126,0.931-0.24,1.234-0.347v12.102h4.155V6.953\n                h-4.155V7.674z M8.619,24.814c1.928,0,2.891,0.586,2.891,1.754c0,1.24-0.883,1.859-2.65,1.859c-2.019,0-3.027-0.597-3.027-1.789\n                C5.831,25.423,6.761,24.814,8.619,24.814z M8.378,15.729c-1.445,0-2.168-0.792-2.168-2.375c0-1.698,0.723-2.547,2.168-2.547\n                c0.689,0,1.229,0.264,1.617,0.792c0.321,0.481,0.481,1.055,0.481,1.721C10.477,14.926,9.778,15.729,8.378,15.729z\"/>\n    </g>\n  </symbol>\n  <use xlinkHref=\"#git\" />\n</svg>\n\nconst FooterAnotation = () => {\n  return (\n    <div className={styles.anotation}>\n      <a href=\"https://github.com/AlexLibrary\" target=\"blank\">{simbolGit}</a>\n    </div>\n  )\n}\n\nexport default FooterAnotation;\n","import React from \"react\";\nimport styles from './style.module.scss'\nimport Anotation from './Anotation'\n\nconst Footer = () => {\n  return (\n    <div className={styles.footer}>\n      <div className='container'>\n        <Anotation />\n      </div>\n    </div>\n  )\n}\n\nexport default Footer;\n","import { getAuthUserData } from \"./reducer_auth\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\n\nconst initialState = {\n  initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      };\n    default:\n      return state;\n  }\n}\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\n\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData())\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess())\n  })\n}\n\nexport default appReducer\n","const initialState = {}\n\nconst sidebarReducer = (state = initialState, action) => {\n  // return JSON.parse(JSON.stringify(state));;\n  return state;\n}\n\nexport default sidebarReducer\n","import { combineReducers, createStore, applyMiddleware, compose } from 'redux';\nimport ThunkMiddleware from 'redux-thunk'\nimport profileReducer from \"./reducers/reducer_profile\";\nimport dialogsReducer from \"./reducers/reducer_dialogs\";\nimport sidebarReducer from \"./reducers/reducer_sidebar\";\nimport usersReducer from './reducers/reducer_users';\nimport authReducer from './reducers/reducer_auth';\nimport appReducer from './reducers/reducer_app';\nimport { reducer as formReducer, } from 'redux-form';\n\nconst reducers = combineReducers({\n  profile: profileReducer,\n  dialogPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  authPart: authReducer,\n  form: formReducer,\n  app: appReducer\n});\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\n  applyMiddleware(ThunkMiddleware)\n));\n// const store = createStore(reducers, applyMiddleware(ThunkMiddleware));\nexport default store;\n\n/* Window */\n\n// declare global {\n//   interface Window { store: any; }\n// }\n\nwindow.__store__ = store;\n","import React from \"react\";\nimport HeaderContainer from \"./components/Header/Container\";\nimport Page from \"./components/Page\";\nimport Footer from \"./components/Footer\";\nimport './App.scss'\nimport { initializeApp } from \"./reducers/reducer_app\";\nimport { connect, Provider } from \"react-redux\";\nimport Preloader from \"./components/modules/Preloader\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./redux_store\";\nconst S = 'App';\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n  render() {\n\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n\n      <div className={`${S}`}>\n        <HeaderContainer />\n        <Page />\n        <Footer />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = connect(mapStateToProps, { initializeApp })(App);\n\n/* <HashRouter> / <BrowserRouter basename={process.env.PUBLIC_URL}> (for GitHub pages) */\nconst SamuraiJSApp = () => (\n  <HashRouter >\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n)\n\nexport default SamuraiJSApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './index.scss';\nimport SamuraiJSApp from './App'\nimport * as serviceWorker from './serviceWorker';\n\nconst Render = () => {\n  ReactDOM.render(<SamuraiJSApp />, document.querySelector('.root'));\n}\n\nRender();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react'\nimport preloaderAnimation from '../../../assets/preloaderAnimation.svg'\nimport styles from './style.module.scss'\n\nconst Preloader = () => {\n  return (\n    <div className={styles.preloader}>\n      <img src={preloaderAnimation} alt=\"loading...\" />\n    </div>\n  )\n}\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__Cx-XB\",\"header_login\":\"style_header_login__2k6aI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"style_menu__beCIv\",\"a_active\":\"style_a_active__3cm2N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"anotation\":\"style_anotation__3OBOA\",\"svg_git\":\"style_svg_git__AkGeO\"};","import { usersAPI, profileAPI } from '../api'\nimport { stopSubmit } from 'redux-form'\n/* ActionConstant */\nconst ADD_POST = 'reducer_profile/ADD_POST'\nconst SET_USER_PROFILE = 'reducer_profile/SET_USER_PROFILE'\nconst SET_STATUS = 'reducer_profile/SET_STATUS'\nconst DELETE_POST = 'reducer_profile/DELETE_POST'\nconst SAVE_PHOTO_SUCCESS = 'reducer_profile/SAVE_PHOTO_SUCCESS'\n/* initState for Reducer */\nconst initialState = {\n  posts: [\n    { id: 0, message: 'it\\'s my first most', likes: 511 },\n    { id: 1, message: 'how are you', likes: 200 },\n    { id: 2, message: 'hi, how are you', likes: 101 },\n  ],\n  profile: undefined,\n  status: ''\n}\n/* Reducer */\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      const newPost = {\n        id: state.posts.length,\n        message: action.newPost,\n        likes: 0\n      }\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          newPost\n        ]\n      }\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      }\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      }\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(post => post.id !== action.postId)\n      }\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos }\n      }\n    default:\n      return state;\n  }\n}\n/* ActionCreator */\nexport const addPostActionCreator = (newPost) => ({ type: ADD_POST, newPost })\nexport const setUserProfileAction = (profile) => ({ type: SET_USER_PROFILE, profile })\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\n\n/* ThunkCreator */\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const { data } = await usersAPI.getProfile(userId)\n  console.log('---data(usersAPI.getProfile)', data)\n  dispatch(setUserProfileAction(data))\n}\nexport const getStatus = (userId) => async (dispatch) => {\n  const { data } = await profileAPI.getStatus(userId)\n  console.log('---data(profileAPI.getStatus)', data)\n  dispatch(setStatus(data))\n}\nexport const updateStatus = (status) => async (dispatch) => {\n  const { data } = await profileAPI.updateStatus(status)\n  console.log('---data(profileAPI.updateStatus)', data)\n  if (data.resultCode === 0) {\n    dispatch(setStatus(status))\n  }\n}\nexport const savePhoto = (file) => async (dispatch) => {\n  const { data } = await profileAPI.savePhoto(file)\n  console.log('---data(profileAPI.savePhoto)', data)\n  if (data.resultCode === 0) {\n    dispatch(savePhotoSuccess(data.data.photos))\n  }\n}\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().authPart.userId;\n  const { data } = await profileAPI.saveProfile(profile)\n  console.log('---data(profileAPI.saveProfile)', data)\n  if (data.resultCode === 0) {\n    dispatch(getUserProfile(userId))\n  } else {\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error'\n    dispatch(stopSubmit('editProfile', { _error: message }))\n    return Promise.reject(message);\n  }\n}\n\n\nexport default profileReducer\n","import axios from 'axios'\nconst PATH = 'https://social-network.samuraijs.com/api/1.0/'\n\nconst instance = axios.create({\n  baseURL: PATH,\n  withCredentials: true,\n  headers: {\n    'API-KEY': '981ab4ac-b16c-4610-9fb4-e41305b3c995'\n  }\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`);\n  },\n  getProfile(userId) {\n    console.warn('Obsolete method. Please profileAPI object!')\n    return profileAPI.getProfile(userId);\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`);\n  },\n  follow(userId) {\n    return instance.post(`follow/${userId}`);\n  },\n  // follow(userId) {\n  //   return instance.post(`follow/${userId}`)\n  //     .then(response => response.data)\n  // }\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/${userId}`);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status });\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append('image', photoFile)\n    return instance.put(`profile/photo`, formData, {\n      'Content-Type': 'multipart/form-data'\n    });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile);\n  }\n}\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`);\n  },\n  login(email, password, rememberMe, captcha) {\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n  },\n  logout() {\n    return instance.delete(`auth/login`);\n  }\n}\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`);\n  }\n}\n","const SEND_MESSAGE = 'SEND_MESSAGE'\n\nconst initialState = {\n  friends: [\n    { id: 0, name: \"Dimych\" },\n    { id: 1, name: \"Sveta\" },\n    { id: 2, name: \"Andrey\" },\n    { id: 3, name: \"Alexandra\" },\n    { id: 4, name: \"Viktor\" },\n    { id: 5, name: \"Valera\" }\n  ],\n  input: {\n    messages: [\n      { id: 0, message: \"hi\" },\n      { id: 1, message: \"how are you\" },\n      { id: 2, message: \"yo\" },\n      { id: 3, message: \"yo\" },\n      { id: 4, message: \"yo\" },\n      { id: 5, message: \"how are you\" },\n      { id: 6, message: \"yo\" }\n    ]\n  },\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return {\n        ...state,\n        input: {\n          ...state.input,\n          messages: [\n            ...state.input.messages,\n            { id: state.input.messages.length, message: action.newMessage }\n          ]\n        }\n      }\n    default:\n      return state;\n  }\n}\n\nexport const sendMessageActionCreator = (newMessage) => ({\n  type: SEND_MESSAGE, newMessage\n})\n\nexport default dialogsReducer\n","export const updateObjectInArrays = (items, itemId, objPropName, newObjProps) => {\n  return items.map(obj =>\n    obj[objPropName] === itemId ? { ...obj, ...newObjProps } : obj\n  )\n}\n\n\n/*\nusers: state.users.map(obj =>\n  obj.id === action.id ? { ...obj, followed: true } : obj\n)\n*/\n","import { usersAPI } from '../api'\nimport { updateObjectInArrays } from '../utils/objectHelpers'\n/* ActionConstant */\nconst SET_USERS = 'SET_USERS'\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS'\n/* initState for Reducer */\nconst initialState = {\n  users: [],\n  pageSize: 20,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: []\n}\n/* Reducer */\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArrays(state.users, action.id, 'id', { followed: true })\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArrays(state.users, action.id, 'id', { followed: false })\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage\n      };\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.count\n      };\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFollowing\n          ? [...state.followingInProgress, action.userId] // state.followingInProgress.push(action.userId)\n          : state.followingInProgress.filter(id => id !== action.userId)\n      };\n    default:\n      return state;\n  }\n}\n/* ActionCreators */\nexport const setUsers = (users) => ({ type: SET_USERS, users: users })\nexport const followSuccess = (userId) => ({ type: FOLLOW, id: userId })\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, id: userId })\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\nexport const toggleFollowingInProgress = (isFollowing, userId) => ({ type: TOGGLE_FOLLOWING_IN_PROGRESS, isFollowing, userId })\n/* ThunkCreators */\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\n  dispatch(toggleIsFetching(true))\n  dispatch(setCurrentPage(page))\n  const { data } = await usersAPI.getUsers(page, pageSize)\n  console.log('---data(usersAPI.getUsers)', data)\n  dispatch(toggleIsFetching(false))\n  dispatch(setUsers(data.items))\n  dispatch(setTotalUsersCount(data.totalCount))\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingInProgress(true, userId));\n  const { data } = await apiMethod(userId)\n  console.log(`---data(${apiMethod.name})`, data)\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId))\n  }\n  dispatch(toggleFollowingInProgress(false, userId));\n}\n\nexport const follow = (userId) => async (dispatch) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess)\n}\nexport const unfollow = (userId) => async (dispatch) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess)\n}\n\n\n\n\nexport default usersReducer\n","module.exports = __webpack_public_path__ + \"static/media/bg-header.bee36bb7.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"style_sidebar__3FXCW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__314wy\"};","module.exports = __webpack_public_path__ + \"static/media/preloaderAnimation.f4e1fcb2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"style_preloader__2MSck\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"style_page__33upb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"style_footer__O5yl1\"};"],"sourceRoot":""}