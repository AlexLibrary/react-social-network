(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[4],{234:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return m}));var n=a(244),r=a(0),l=a.n(r),o=a(236),c=a.n(o),i=a(117),s=function(e){var t=e.input,a=e.meta,r=a.touched,o=a.error,i=Object(n.a)(e,["input","meta"]),s=r&&o;return l.a.createElement("div",{className:s?"".concat(c.a.reduxFormFields," ").concat(c.a.error):c.a.reduxFormFields},l.a.createElement("div",null,l.a.createElement("textarea",Object.assign({},t,i))),s&&l.a.createElement("span",null,o))},u=function(e){var t=e.input,a=e.meta,r=a.touched,o=a.error,i=Object(n.a)(e,["input","meta"]),s=r&&o;return l.a.createElement("div",{className:s?"".concat(c.a.reduxFormFields," ").concat(c.a.error):c.a.reduxFormFields},l.a.createElement("div",null,l.a.createElement("input",Object.assign({},t,i))),s&&l.a.createElement("span",null,o))},m=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return l.a.createElement("div",{className:c},l.a.createElement(i.a,Object.assign({name:e,component:t,placeholder:a,validate:n},r))," ",o)}},235:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n,r=function(e){if(!e)return"Field is required"},l=(n=10,function(e){if(e&&e.length>n)return"Max length > ".concat(n)})},236:function(e,t,a){e.exports={reduxFormFields:"style_reduxFormFields__3ce72",error:"style_error__3ESqE"}},238:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(61);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(i){r=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},243:function(e,t,a){e.exports={about:"style_about__2w6o7",status:"style_status__3zHin",status_output:"style_status_output__3NI24",status_input:"style_status_input__s1iEG",editProfile_summaryError:"style_editProfile_summaryError__aWS24"}},300:function(e,t,a){e.exports={profile:"style_profile__1dxLa"}},301:function(e,t,a){e.exports={posts:"style_posts__3fAfL",posts_items:"style_posts_items__39ezC",posts_items_likes:"style_posts_items_likes__21Hqr"}},302:function(e,t,a){e.exports={addPost:"style_addPost__iDIXg"}},306:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(34),l=a(36),o=a(35),c=a(0),i=a.n(c),s=a(300),u=a.n(s),m=a(38),p=a(301),f=a.n(p),d=function(e){var t=function(){return e.posts.map((function(t){return i.a.createElement("div",{className:f.a.posts_items,key:t.id},i.a.createElement("img",{src:e.profile.photos.small?e.profile.photos.small:"https://placem.at/people?w=70&h=70&random=1",alt:""}),t.message,i.a.createElement("div",{className:f.a.posts_likes},"likes: ",t.likes))}))};return i.a.createElement("div",{className:f.a.posts},i.a.createElement("h2",null,"My posts"),i.a.createElement(t,null))},E=a(19),b=Object(E.b)((function(e){return{posts:e.profile.posts,profile:e.profile.profile}}),{})(d),h=a(60),v=a(302),_=a.n(v),y=a(117),g=a(118),O=a(235),j=a(234),k=Object(g.a)({form:"profileAddPostForm"})((function(e){return i.a.createElement("form",{className:_.a.addPost,onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(y.a,{name:"textarea",component:j.b,placeholder:"Write a post...",validate:[O.b,O.a]})),i.a.createElement("div",null,i.a.createElement("button",null,"Send")))})),P=function(e){return i.a.createElement(k,{onSubmit:function(t){e.addPost(t.textarea)}})},S=Object(E.b)((function(e){return{inputValue:e.profile.inputValue}}),(function(e){return{addPost:function(t){e(Object(h.a)(t))}}}))(P),F=a(238),w=a(243),N=a.n(w),x=function(e){var t=Object(c.useState)(!1),a=Object(F.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(e.status),o=Object(F.a)(l,2),s=o[0],u=o[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement("div",{className:N.a.status},i.a.createElement("span",null,"Status:"),!n&&i.a.createElement("div",{className:N.a.status_output,onClick:function(){r(!0)}},i.a.createElement("span",null,e.status||"------")),n&&i.a.createElement("div",{className:N.a.status_input},i.a.createElement("input",{autoFocus:!0,value:s,onBlur:function(){r(!1),e.updateStatus(s)},onChange:function(e){u(e.target.value)}})))},I=Object(g.a)({form:"editProfile"})((function(e){var t=e.profile,a=e.cancelEdit,n=e.handleSubmit,r=e.error;return i.a.createElement("form",{onSubmit:n,className:N.a.editProfile},i.a.createElement("div",null,i.a.createElement("button",null,"save")),i.a.createElement("div",null,i.a.createElement("button",{onClick:a},"cancelEdit")),i.a.createElement("div",{className:N.a.editProfile_summaryError},r&&r),i.a.createElement("h2",null,"fullName"),Object(j.c)("fullName",j.a,"fullName",[O.b],{type:"input"}),i.a.createElement("h2",null,"\u041e\u0431\u043e \u043c\u043d\u0435"),Object(j.c)("aboutMe",j.a,"aboutMe",[O.b],{type:"input"}),i.a.createElement("h2",null,"lookingForAJob"),Object(j.c)("lookingForAJob",j.a,"",[O.b],{type:"checkbox"}),i.a.createElement("h2",null,"lookingForAJobDescription"),Object(j.c)("lookingForAJobDescription",j.b,"My professional skills",[O.b]),i.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("b",null,e,":")," ",Object(j.c)("contacts.".concat(e),j.a,e,[],{type:"url"}))})))})),A=function(e){var t=e.profile,a=e.isOwner,n=e.toEditMode;return i.a.createElement("div",null,a&&i.a.createElement("div",null,i.a.createElement("button",{onClick:n},"Edit")),i.a.createElement("h1",null,"".concat(t.fullName)),i.a.createElement("h2",null,"\u041e\u0431\u043e \u043c\u043d\u0435"),"".concat(t.aboutMe),i.a.createElement("h2",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),i.a.createElement("pre",null,i.a.createElement("div",null,"   facebook:    ".concat(t.contacts.facebook)),i.a.createElement("div",null,"   website:     ".concat(t.contacts.website)),i.a.createElement("div",null,"   vk:          ".concat(t.contacts.vk)),i.a.createElement("div",null,"   twitter:     ".concat(t.contacts.twitter)),i.a.createElement("div",null,"   instagram:   ".concat(t.contacts.instagram)),i.a.createElement("div",null,"   youtube:     ".concat(t.contacts.youtube)),i.a.createElement("div",null,"   github:      ".concat(t.contacts.github)),i.a.createElement("div",null,"   mainLink:    ".concat(t.contacts.mainLink))),t.lookingForAJob?i.a.createElement("div",null,i.a.createElement("h2",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443")," ",t.lookingForAJobDescription):void 0)},M=function(e){var t=Object(c.useState)(!1),a=Object(F.a)(t,2),n=a[0],r=a[1];return i.a.createElement("div",{className:N.a.about},i.a.createElement("div",null,i.a.createElement("img",{src:e.profile.photos.large||"https://placem.at/people?w=300&h=300&random=1",alt:"largePhoto"}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),i.a.createElement("div",null,i.a.createElement(x,{status:e.status,updateStatus:e.updateStatus})),n?i.a.createElement(I,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},cancelEdit:function(){return r(!1)}}):i.a.createElement(A,{profile:e.profile,isOwner:e.isOwner,toEditMode:function(){return r(!0)}}))},C=function(e){return e.profile?i.a.createElement("div",{className:u.a.profile},i.a.createElement("h1",null,"Id_",e.profile.userId),i.a.createElement(M,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),i.a.createElement(b,null),i.a.createElement(S,null)):i.a.createElement(m.a,null)},J=a(18),D=a(22),L=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)?(this.props.getUserProfile(e),this.props.getStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,Object.assign({isOwner:!this.props.match.params.userId},this.props)))}}]),a}(i.a.Component);t.default=Object(D.d)(Object(E.b)((function(e){return{profile:e.profile.profile,status:e.profile.status,userId:e.authPart.userId,isAuth:e.authPart.isAuth}}),{getUserProfile:h.d,getStatus:h.c,updateStatus:h.g,savePhoto:h.e,saveProfile:h.f}),J.g)(L)}}]);
//# sourceMappingURL=4.99caeaa2.chunk.js.map